.PHONY: clean
all: bin/main.exe bin/test.exe
test: bin/test.exe

bin/test.exe: build/test/test_func.o build/src/func.o 
	g++ -Wall -I src -Werror -o bin/test.exe build/src/func.o build/test/test_func.o -lm

bin/main.exe: build/src/main.o build/src/func.o
	g++ -std=c++17 -Wall -Werror -o bin/main.exe build/src/main.o build/src/func.o -lm

build/src/main.o: src/main.cpp
	g++ -std=c++17 -c -o build/src/main.o src/main.cpp -lm

build/src/func.o: src/func.cpp
	g++ -std=c++17 -c -o  build/src/func.o src/func.cpp -lm

build/test/test_func.o: test/test_func.cpp
	g++ -std=c++11 -c -Wall -I src -o  build/test/test_func.o test/test_func.cpp -lm

clean:
	rm -rf bin/*exe build/src/*o build/test/*o

run_main:
	./bin/main.exe

run_test:
	./bin/test.exe
